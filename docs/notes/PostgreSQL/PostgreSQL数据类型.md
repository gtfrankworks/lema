---
title: PostgreSQL数据类型
createTime: 2025/08/26 15:04:08
permalink: /PostgreSQL/g0fcgzo7/
---
您好，我已经为您将提供的 PostgreSQL 数据类型内容整理成了更清晰、更易读的 Markdown 格式。我使用标题、列表和表格来重新组织了内容，使其结构更清晰，并加粗了关键术语，以帮助您更好地理解和学习。

-----

### **PostgreSQL 数据类型详解**

#### 一、数值类型

数值类型用于存储整数和浮点数，并支持不同范围和精度的数字。

| 名字 | 存储长度 | 描述 | 范围 |
| :--- | :--- | :--- | :--- |
| **smallint** | 2 字节 | 小范围整数 | -32768 到 +32767 |
| **integer** | 4 字节 | 常用的整数 | -2147483648 到 +2147483647 |
| **bigint** | 8 字节 | 大范围整数 | -9223372036854775808 到 +9223372036854775807 |
| **decimal/numeric** | 可变长 | 用户指定的精度，精确 | 小数点前 131072 位；小数点后 16383 位 |
| **real** | 4 字节 | 可变精度，不精确 | 6 位十进制数字精度 |
| **double precision** | 8 字节 | 可变精度，不精确 | 15 位十进制数字精度 |
| **smallserial** | 2 字节 | 自增的小范围整数 | 1 到 32767 |
| **serial** | 4 字节 | 自增整数 | 1 到 2147483647 |
| **bigserial** | 8 字节 | 自增的大范围整数 | 1 到 9223372036854775807 |

-----

#### 二、货币类型

`money` 类型用于存储带有固定小数精度的货币金额。不建议使用浮点数来处理货币，以避免舍入错误。

| 名字 | 存储容量 | 描述 | 范围 |
| :--- | :--- | :--- | :--- |
| **money** | 8 字节 | 货币金额 | -92233720368547758.08 到 +92233720368547758.07 |

-----

#### 三、字符类型

PostgreSQL 支持多种字符类型，可以根据需求选择固定长度或可变长度的字符串。

| 名字 & 描述 |
| :--- |
| **character varying(n), varchar(n)**：变长，有长度限制。 |
| **character(n), char(n)**：定长，不足会用空格填充。 |
| **text**：变长，无长度限制。 |

-----

#### 四、日期/时间类型

PostgreSQL 提供了多种日期和时间类型，包括是否带时区。

| 名字 | 存储空间 | 描述 | 最低值 | 最高值 |
| :--- | :--- | :--- | :--- | :--- |
| **timestamp [ (p) ] [ without time zone ]** | 8 字节 | 日期和时间 (无时区) | 4713 BC | 294276 AD |
| **timestamp [ (p) ] with time zone** | 8 字节 | 日期和时间，带时区 | 4713 BC | 294276 AD |
| **date** | 4 字节 | 只用于日期 | 4713 BC | 5874897 AD |
| **time [ (p) ] [ without time zone ]** | 8 字节 | 只用于一日内时间 | 00:00:00 | 24:00:00 |
| **time [ (p) ] with time zone** | 12 字节 | 只用于一日内时间，带时区 | 00:00:00+1459 | 24:00:00-1459 |
| **interval [ fields ] [ (p) ]** | 12 字节 | 时间间隔 | -178000000 年 | 178000000 年 |

-----

#### 五、布尔类型

`boolean` 类型用于存储逻辑真值。

| 名称 | 存储格式 | 描述 |
| :--- | :--- | :--- |
| **boolean** | 1 字节 | **true**（真）、**false**（假）、**NULL**（未知） |

-----

#### 六、枚举类型

**枚举（ENUM）** 类型是一个包含静态、有序值的集合。需要使用 `CREATE TYPE` 命令创建。

**创建示例：**

```sql
CREATE TYPE mood AS ENUM ('sad', 'ok', 'happy');

CREATE TABLE person (
    name text,
    current_mood mood
);

INSERT INTO person VALUES ('Moe', 'happy');
```

-----

#### 七、几何类型

几何数据类型表示二维的平面物体，最基本的类型是 **point**。

| 名字 | 存储空间 | 说明 | 表现形式 |
| :--- | :--- | :--- | :--- |
| **point** | 16 字节 | 平面中的点 | (x,y) |
| **line** | 32 字节 | (无穷)直线 | ((x1,y1),(x2,y2)) |
| **lseg** | 32 字节 | (有限)线段 | ((x1,y1),(x2,y2)) |
| **box** | 32 字节 | 矩形 | ((x1,y1),(x2,y2)) |
| **path** | 16+16n 字节 | 闭合/开放路径 | ((x1,y1),...) / [(x1,y1),...] |
| **polygon** | 40+16n 字节 | 多边形 | ((x1,y1),...) |
| **circle** | 24 字节 | 圆 | \<(x,y),r\> |

-----

#### 八、网络地址类型

这些类型用于存储 IPv4、IPv6 和 MAC 地址，并提供错误检查和特殊操作。

| 名字 | 存储空间 | 描述 |
| :--- | :--- | :--- |
| **cidr** | 7 或 19 字节 | IPv4 或 IPv6 网络 |
| **inet** | 7 或 19 字节 | IPv4 或 IPv6 主机和网络 |
| **macaddr** | 6 字节 | MAC 地址 |

-----

#### 九、位串类型

位串是 1 和 0 的字符串，可用于存储和操作位掩码。

  * **bit(n)**：定长，必须匹配长度 `n`。
  * **bit varying(n)**：变长，最长 `n`。

-----

#### 十、文本搜索类型

用于支持全文检索，提供对文档进行索引和查询的功能。

  * **tsvector**：存储无重复词汇的排序列表。
  * **tsquery**：存储用于检索的词汇，并使用布尔操作符 `&`、`\|` 和 `!` 进行组合。

-----

#### 十一、UUID 类型

`UUID`（通用唯一标识符）是 128 位的标识符，常用于分布式系统，提供比序列号更好的唯一性保证。

**示例：** `a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11`

-----

#### 十二、XML 类型

`xml` 类型用于存储 XML 数据，可以检查数据的格式，并支持相关的函数。

**创建示例：**
`XMLPARSE (DOCUMENT '<book><title>Manual</title></book>')`

-----

#### 十三、JSON 类型

`json` 类型用于存储 JSON 数据，并提供函数来处理这些数据。
`jsonb` 是更高效的二进制版本，推荐使用。

-----

#### 十四、数组类型

PostgreSQL 允许将字段定义为变长的多维数组。

**声明示例：**

```sql
CREATE TABLE sal_emp (
    name text,
    pay_by_quarter integer[],
    schedule text[][]
);
```

**插入和查询示例：**

```sql
-- 插入数组值
INSERT INTO sal_emp VALUES ('Bill', '{10000, 10000}', '{{"meeting"}}');

-- 访问数组元素
SELECT name FROM sal_emp WHERE pay_by_quarter[1] = 10000;
```

-----

#### 十五、复合类型

**复合类型** 表示一行或一条记录的结构，可以在表的字段中使用。

**声明示例：**

```sql
CREATE TYPE inventory_item AS (
    name text,
    supplier_id integer,
    price numeric
);

CREATE TABLE on_hand (
    item inventory_item,
    count integer
);
```

**访问字段：**

```sql
-- 需要用括号来避免歧义
SELECT (item).name FROM on_hand;
```

-----

#### 十六、范围类型

**范围类型** 表示某一元素类型在一定范围内的值。

**内置类型：**

  * `int4range`：整数范围
  * `tsrange`：时间戳范围 (无时区)
  * `daterange`：日期范围

**使用示例：**

```sql
-- 包含
SELECT int4range(10, 20) @> 3;
-- 重叠
SELECT numrange(11.1, 22.2) && numrange(20.0, 30.0);
```

-----

#### 十七、对象标识符类型

`OID`（对象标识符）是 PostgreSQL 内部使用的系统表主键。

  * **oid**：任意数字化对象标识符。
  * **regclass**：关系名，如 `pg_type`。

-----

#### 十八、伪类型

**伪类型** 不能作为表的字段类型，但可以用于声明函数的参数或返回值类型。

**常见伪类型：**

  * **any**：接受任何输入数据类型。
  * **void**：函数不返回任何值。
  * **record**：函数返回一个未声明的行类型。