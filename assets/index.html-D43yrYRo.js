import{a as i,c as a,b as l,o as n}from"./app-ZQgO6-gU.js";const e={};function h(k,s){return n(),a("div",null,s[0]||(s[0]=[l(`<p>在 PostgreSQL 中，<strong>ALTER TABLE</strong> 命令用于添加，修改，删除一张已经存在表的列。</p><p>另外你也可以用 <strong>ALTER TABLE</strong> 命令添加和删除约束。</p><h2 id="_1-1-语法" tabindex="-1"><a class="header-anchor" href="#_1-1-语法"><span>1.1 语法</span></a></h2><p>用 ALTER TABLE 在一张已存在的表上添加列的语法如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ADD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> column_name datatype;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在一张已存在的表上 DROP COLUMN（删除列），语法如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DROP</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> COLUMN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> column_name;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>修改表中某列的 DATA TYPE（数据类型），语法如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> COLUMN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> column_name </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">TYPE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> datatype;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>给表中某列添加 NOT NULL 约束，语法如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> column_name datatype </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">NOT</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NULL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>给表中某列 ADD UNIQUE CONSTRAINT（ 添加 UNIQUE 约束），语法如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ADD</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> CONSTRAINT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> MyUniqueConstraint </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">UNIQUE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(column1, column2...);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>给表中 ADD CHECK CONSTRAINT（添加 CHECK 约束），语法如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ADD</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> CONSTRAINT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> MyUniqueConstraint </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CHECK</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (CONDITION);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>给表 ADD PRIMARY KEY（添加主键），语法如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ADD</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> CONSTRAINT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> MyPrimaryKey </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">PRIMARY KEY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (column1, column2...);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>DROP CONSTRAINT （删除约束），语法如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DROP</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> CONSTRAINT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> MyUniqueConstraint;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果是 MYSQL ，代码是这样：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DROP</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> INDEX MyUniqueConstraint;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>DROP PRIMARY KEY （删除主键），语法如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DROP</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> CONSTRAINT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> MyPrimaryKey;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果是 MYSQL ，代码是这样：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DROP</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> PRIMARY KEY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-1-1-实例" tabindex="-1"><a class="header-anchor" href="#_1-1-1-实例"><span>1.1.1 实例</span></a></h3><p>创建 COMPANY 表（<a href="https://static.runoob.com/download/company.sql" target="_blank" rel="noopener noreferrer">下载 COMPANY SQL 文件</a> ），数据内容如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">runoobdb# </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> COMPANY;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> id | </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  | age | address   | salary</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">----+-------+-----+-----------+--------</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Paul  |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">32</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | California|  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">20000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Allen |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">25</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Texas     |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Teddy |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">23</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Norway    |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">20000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  4</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Mark  |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">25</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Rich</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Mond |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">65000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  5</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | David |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">27</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Texas     |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">85000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  6</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Kim   |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">22</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | South</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Hall|  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">45000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  7</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | James |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">24</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Houston   |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10000</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> rows)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面实例在这张表中添加新的列：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">runoobdb</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> COMPANY </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ADD</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> GENDER </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">char</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>现在表长这样：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> id | </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  | age | address     | salary | gender</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">----+-------+-----+-------------+--------+--------</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Paul  |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">32</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | California  |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">20000</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> |</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Allen |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">25</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Texas       |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15000</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> |</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Teddy |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">23</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Norway      |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">20000</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> |</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  4</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Mark  |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">25</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Rich</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Mond   |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">65000</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> |</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  5</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | David |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">27</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Texas       |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">85000</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> |</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  6</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Kim   |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">22</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | South</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Hall  |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">45000</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> |</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  7</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | James |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">24</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Houston     |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10000</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> rows)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面实例删除 GENDER 列：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">runoobdb</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> COMPANY </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DROP</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> GENDER;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>得到结果如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">id | </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  | age | address   | salary</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">----+-------+-----+-----------+--------</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Paul  |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">32</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | California|  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">20000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Allen |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">25</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Texas     |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Teddy |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">23</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Norway    |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">20000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  4</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Mark  |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">25</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Rich</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Mond |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">65000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  5</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | David |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">27</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Texas     |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">85000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  6</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Kim   |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">22</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | South</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Hall|  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">45000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  7</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | James |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">24</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Houston   |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="二、truncate-table" tabindex="-1"><a class="header-anchor" href="#二、truncate-table"><span>二、TRUNCATE TABLE</span></a></h1><p>PostgreSQL 中 TRUNCATE TABLE 用于删除表的数据，但不删除表结构。</p><p>也可以用 DROP TABLE 删除表，但是这个命令会连表的结构一起删除，如果想插入数据，需要重新建立这张表。</p><p>TRUNCATE TABLE 与 DELETE 具有相同的效果，但是由于它实际上并不扫描表，所以速度更快。 此外，TRUNCATE TABLE 可以立即释放表空间，而不需要后续 VACUUM 操作，这在大型表上非常有用。</p><p>PostgreSQL VACUUM 操作用于释放、再利用更新/删除行所占据的磁盘空间。</p><h2 id="_2-1-语法" tabindex="-1"><a class="header-anchor" href="#_2-1-语法"><span>2.1 语法</span></a></h2><p>TRUNCATE TABLE 基础语法如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">TRUNCATE </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  table_name;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-1-1-实例" tabindex="-1"><a class="header-anchor" href="#_2-1-1-实例"><span>2.1.1 实例</span></a></h3><p>创建 COMPANY 表（<a href="https://static.runoob.com/download/company.sql" target="_blank" rel="noopener noreferrer">下载 COMPANY SQL 文件</a> ），数据内容如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">runoobdb# </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">select</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> COMPANY;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> id | </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  | age | address   | salary</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">----+-------+-----+-----------+--------</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Paul  |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">32</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | California|  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">20000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Allen |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">25</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Texas     |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Teddy |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">23</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Norway    |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">20000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  4</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Mark  |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">25</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Rich</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Mond |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">65000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  5</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | David |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">27</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Texas     |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">85000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  6</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Kim   |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">22</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | South</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Hall|  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">45000</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  7</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | James |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">24</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | Houston   |  </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10000</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">7</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> rows)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面实例使用了 TRUNCATE TABLE 来清除 COMPANY 表：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">runoobdb</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># TRUNCATE </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> COMPANY;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>得到结果如下：</p><div class="language-plsql line-numbers-mode" data-highlighter="shiki" data-ext="plsql" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plsql"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">runoobdb</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"># </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> CUSTOMERS;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> id | </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | age | address | salary</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">----+------+-----+---------+--------</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> rows)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,51)]))}const p=i(e,[["render",h]]),d=JSON.parse('{"path":"/PostgreSQL/z9aayuz5/","title":"PostgreSQL Alter,Truncate Table","lang":"zh-CN","frontmatter":{"title":"PostgreSQL Alter,Truncate Table","createTime":"2025/08/26 15:13:11","permalink":"/PostgreSQL/z9aayuz5/"},"readingTime":{"minutes":2.62,"words":787},"git":{"createdTime":1756736713000},"filePathRelative":"notes/PostgreSQL/PostgreSQL的Alter等.md","headers":[]}');export{p as comp,d as data};
